{"version":3,"file":"commonHelpers.js","sources":["../src/img/x-octagon.svg","../src/main.js"],"sourcesContent":["export default \"__VITE_ASSET__655c9695__\"","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport errorIcon from \"./img/x-octagon.svg\";\n\n// import css from \"file.css\";\n\nconst searchForm = document.querySelector(\".form\");\nconst gallery = document.querySelector(\".gallery\");\n\nsearchForm.addEventListener(\"submit\", fetchImages);\n\nfunction fetchImages(event) {\n    event.preventDefault();\n    const input = searchForm.elements.word.value.trim();\n    if (input === \"\") {\n        iziToast.error({\n            title: 'Error',\n            message: 'Search query cannot be empty',\n        });\n        return;\n    }\n    \n    const KEY = '42515164-6d66b652ac661a4b366139ff0';\n    const BASE_URI = 'https://pixabay.com/api/';\n    const Q = input;\n    const IMAGE_TYPE = 'photo';\n    const ORIENTATION = 'horizontal';\n    const SAFESEARCH = true;\n    const LINK = `${BASE_URI}?key=${KEY}&q=${Q}&image_type=${IMAGE_TYPE}&orientation=${ORIENTATION}&safesearch=${SAFESEARCH}`;\n    \n    \n    fetch(LINK)\n        .then(response => {\n            if (!response.ok) {\n                throw new Error('Image error');\n            }\n            return response.json();\n        })\n        .then(data => {\n            const images = data.hits;\n            console.log(images)\n            if (images.length === 0) {\n                gallery.innerHTML = \"\";\n                searchForm.reset();\n                return iziToast.error({\n                    message: 'Sorry, there are no images matching your search query. Please try again!',\n                    messageColor: '#fafafb',\n                    messageSize: '16px',\n                    backgroundColor: '#ef4040',\n                    theme: 'dark',\n                    iconUrl: errorIcon,\n                    maxWidth: '432px',\n                });\n            } else {\n                function createGalleryMarkup(images) {\n                    return images.map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) =>\n                        `<li class=\"gallery-item\">\n                            <a class=\"gallery-link\" href=\"${largeImageURL}\">\n                            <img\n                            class=\"gallery-image\"\n                            src=\"${webformatURL}\"\n                            data-source=\"${largeImageURL}\"\n                            alt=\"${tags}\"\n                            />\n                            </a>\n                            <div class=\"image-info\">\n                                <ul class=\"image-info-list\">\n                                    <li class=\"image-item\">\n                                        <h2 class=\"image-text\">Likes</h2>\n                                        <p class=\"image-quantity\">${likes}</p>\n                                    </li>\n                                    <li class=\"image-item\">\n                                        <h2 class=\"image-text\">Views</h2>\n                                        <p class=\"image-quantity\">${views}</p>\n                                    </li>\n                                    <li class=\"image-item\">\n                                        <h2 class=\"image-text\">Comments</h2>\n                                        <p class=\"image-quantity\">${comments}</p>\n                                    </li>\n                                    <li class=\"image-item\">\n                                        <h2 class=\"image-text\">Downloads</h2>\n                                        <p class=\"image-quantity\">${downloads}</p>\n                                    </li>\n                                </ul>\n                            </div>\n                        </li>`)\n                        .join(\"\");\n                    }\n\n                gallery.innerHTML = createGalleryMarkup(images);\n\n                gallery.addEventListener('click', selectImage);\n\n                function selectImage(event) {\n                    event.preventDefault();\n                    const { className, dataset, alt } = event.target;\n                    if (className !== \"gallery-image\") {\n                        return;\n                    }\n                    const imageLightbox = new SimpleLightbox('.gallery a', {\n                        captionsData: 'alt',\n                    });\n\n                    imageLightbox.refresh();     \n                }\n            }\n            searchForm.reset();\n        })\n    .catch(error => {\n        alert('Error while fetching images from Pixabay!');\n    })   \n};\n\n\n\n"],"names":["errorIcon","searchForm","gallery","fetchImages","event","input","iziToast","LINK","response","data","images","createGalleryMarkup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","selectImage","className","dataset","alt","SimpleLightbox","error"],"mappings":"6vBAAA,MAAeA,EAAA,+CCUTC,EAAa,SAAS,cAAc,OAAO,EAC3CC,EAAU,SAAS,cAAc,UAAU,EAEjDD,EAAW,iBAAiB,SAAUE,CAAW,EAEjD,SAASA,EAAYC,EAAO,CACxBA,EAAM,eAAc,EACpB,MAAMC,EAAQJ,EAAW,SAAS,KAAK,MAAM,OAC7C,GAAII,IAAU,GAAI,CACdC,EAAS,MAAM,CACX,MAAO,QACP,QAAS,8BACrB,CAAS,EACD,MACH,CAQD,MAAMC,EAAO,qEAJHF,CAIgC,uDADvB,EACoG,GAGvH,MAAME,CAAI,EACL,KAAKC,GAAY,CACd,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAM,aAAa,EAEjC,OAAOA,EAAS,MAC5B,CAAS,EACA,KAAKC,GAAQ,CACV,MAAMC,EAASD,EAAK,KAEpB,GADA,QAAQ,IAAIC,CAAM,EACdA,EAAO,SAAW,EAClB,OAAAR,EAAQ,UAAY,GACpBD,EAAW,MAAK,EACTK,EAAS,MAAM,CAClB,QAAS,2EACT,aAAc,UACd,YAAa,OACb,gBAAiB,UACjB,MAAO,OACP,QAASN,EACT,SAAU,OAC9B,CAAiB,EACE,CACH,IAASW,EAAT,SAA6BD,EAAQ,CACjC,OAAOA,EAAO,IAAI,CAAC,CAAE,aAAAE,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,IACvF;AAAA,4DACoCL,CAAa;AAAA;AAAA;AAAA,mCAGtCD,CAAY;AAAA,2CACJC,CAAa;AAAA,mCACrBC,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oEAO6BC,CAAK;AAAA;AAAA;AAAA;AAAA,oEAILC,CAAK;AAAA;AAAA;AAAA;AAAA,oEAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,oEAIRC,CAAS;AAAA;AAAA;AAAA;AAAA,8BAI/C,EACL,KAAK,EAAE,CACX,EAMIC,EAAT,SAAqBf,EAAO,CACxBA,EAAM,eAAc,EACpB,KAAM,CAAE,UAAAgB,EAAW,QAAAC,EAAS,IAAAC,CAAG,EAAKlB,EAAM,OAC1C,GAAIgB,IAAc,gBACd,OAEkB,IAAIG,EAAe,aAAc,CACnD,aAAc,KACtC,CAAqB,EAEa,QAAO,CACxB,EAfDrB,EAAQ,UAAYS,EAAoBD,CAAM,EAE9CR,EAAQ,iBAAiB,QAASiB,CAAW,CAchD,CACDlB,EAAW,MAAK,CAC5B,CAAS,EACJ,MAAMuB,GAAS,CACZ,MAAM,2CAA2C,CACzD,CAAK,CACL"}